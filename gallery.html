<html>

<head>
    <title> odyssee - Gallery </title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="styles/all.css" media="all" />
    <link rel="stylesheet" href="https://use.typekit.net/qep5qwj.css" />
    <link rel="icon" type="image/png" href="images/icon.png" />
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-drag.v1.min.js"></script>
    <script type="text/javascript" src="javascript/helper.js"></script>
    <script type="text/javascript" src="javascript/general.js"></script>
    <script type="text/javascript" src="javascript/indActFlowerGraph.js"></script>
    <script type="text/javascript" src="javascript/MoodByActivityVis.js"></script>
    <script type="text/javascript" src="javascript/MoodByActivityBursts.js"></script>
</head>
<ul>
    <li style="float:right;vertical-align:top"><a href="about.html">About</a></li>
</ul>

<body>
    <br>
    <p style="font-family:Courier New; font-size: 23; text-align: center; margin-left:auto; margin-right:auto; padding-top:50;">Welcome to your odyssee portal!</p>

    <div style="text-align: center; color: #fff8eb; margin-bottom: 20px; display:block;">
        <svg style="margin-top: 100; margin-bottom: 100" height="700" width="1000" class="indTwoWeeks"></svg>
        <svg style="margin-top: 20; margin-bottom: 100" height="700" width="1000" class="aggTwoWeeks"></svg>
        <svg style="margin-top: 20; margin-bottom: 100" height="700" width="1000" class="indBursts"></svg>
        <svg style="margin-top: 20; margin-bottom: 100" height="500" width="1000" class="indActFlower"></svg>
        <svg style="margin-top: 20; margin-bottom: 100" height="500" width="1000" class="indActFlower2"></svg>
    </div>

    <script>
        let data;
        let email = "lh484@cornell.edu"; //hardcoded
        let personData = [];
        let width = 1000;
        let height = 700;
        let padding = 50;
        let numIcons = 6;
        let textColor = "#484848";
        let backgroundColor = "#fff8eb";
        let iconWidth = 70;

        let moodList = ["Awful", "Bad", "Ok", "Good", "Amazing"];
        let attitudeList = ["want to", "have to", "both", "neither"];
        let dashArray2 = ["0.25 7", "5 7", "0.25 7 5 7", "1000"];
        let dashArray = {
            "I want to": "0.25 5",
            "I have to": "5 5",
            "I want to and have to": "0.25 5 5 5",
            "of something else; I neither want to nor have to": "1000"
        };
        let attitudeLongtoShort = {
            "I want to": "want to",
            "I have to": "have to",
            "I want to and have to": "both",
            "of something else; I neither want to nor have to": "neither"
        };
        let colorHexArray = {
            "Awful": "#9f265b",
            "Bad": "#ca614d",
            "Ok": "#edc3a3",
            "Good": "#f2d878",
            "Amazing": "#ffc500"
        };

        const getData = async() => {
            // TODO for Jamal: replace next two lines with json list
            // personData = getPersonData(data, email);
            var personData = await d3.json("fakeData.txt");
            var everyoneData = await d3.csv("odyssee_data.csv");

            var categoryMap = getFrequencyByKey("Activity", personData);
            var categoryFullMap = getFrequencyByKey("Activity", personData, 1);
            drawMoodByActvitiy(".indTwoWeeks", categoryMap, categoryFullMap, "Your last 2 weeks", personData);
            drawMoodByActivityBursts(".indBursts", categoryMap, everyoneData, "Mood by Activity");

            var categoryMap2 = getFrequencyByKey("Activity", everyoneData);
            var categoryFullMap2 = getFrequencyByKey("Activity", everyoneData, 1);
            drawMoodByActvitiy(".aggTwoWeeks", categoryMap2, categoryFullMap2, "Everyone's last 2 weeks", everyoneData);

            drawIndActivityFlower(".indActFlower", categoryMap, categoryFullMap, "Activity", personData);

            var personData2 = await d3.json("fakeIndActFlowerData.json");
            drawIndActivityFlower(".indActFlower2", categoryMap, categoryFullMap, "Activity", personData2);

        }

        function main() {
            setUpFilters(".indTwoWeeks");
            getData();
        }

        main();
    </script>
</body>

</html>